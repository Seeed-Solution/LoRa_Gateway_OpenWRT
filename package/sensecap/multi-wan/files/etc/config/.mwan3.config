config 1.1.3 'version'

config globals 'globals'
	option mmx_mask '0x7F00'
	option local_source 'no'

config interface 'wan'
	option enabled '1'
	list track_ip '8.8.8.8'
	list track_ip '208.67.222.222'
	list track_ip '114.114.114.114'
	list flush_conntrack 'ifup'
	option reliability '1'
	option family 'ipv4'
	option initial_state 'offline'
	option track_method 'ping'
	option count '1'
	option size '56'
	option max_ttl '60'
	option check_quality '0'
	option timeout '4'
	option interval '10'
	option failure_interval '5'
	option recovery_interval '5'
	option down '5'
	option up '2'

config interface 'wwan'
	option enabled '1'
	list track_ip '8.8.8.8'
	list track_ip '208.67.222.222'
	list track_ip '114.114.114.114'
	list flush_conntrack 'ifup'
	option reliability '1'
	option family 'ipv4'
	option initial_state 'offline'
	option track_method 'ping'
	option count '1'
	option size '56'
	option max_ttl '60'
	option check_quality '0'
	option timeout '4'
	option interval '10'
	option failure_interval '5'
	option recovery_interval '5'
	option down '3'
	option up '2'

config interface 'lte'
	option enabled '1'
	list track_ip '8.8.8.8'
	list track_ip '208.67.222.222'
	list track_ip '114.114.114.114'
	list flush_conntrack 'ifup'
	option reliability '1'
	option family 'ipv4'
	option initial_state 'offline'
	option track_method 'ping'
	option count '1'
	option size '56'
	option max_ttl '60'
	option check_quality '0'
	option timeout '4'
	option interval '10'
	option failure_interval '5'
	option recovery_interval '5'
	option down '3'
	option up '2'

config member 'wan_m1_w3'
	option interface 'wan'
	option metric '1'
	option weight '3'

config member 'wan_m2_w3'
	option interface 'wan'
	option metric '2'
	option weight '3'

config member 'wwan_m1_w2'
	option interface 'wwan'
	option metric '1'
	option weight '2'

config member 'wwan_m2_w2'
	option interface 'wwan'
	option metric '2'
	option weight '2'

config member 'lte_m1_w1'
	option interface 'lte'
	option metric '1'
	option weight '1'

config member 'lte_m2_w1'
	option interface 'lte'
	option metric '2'
	option weight '1'

config member 'lte_m3_w1'
	option interface 'lte'
	option metric '3'
	option weight '1'

config policy 'w1_ww2'
	list use_member 'wan_m1_w3'
	list use_member 'wwan_m2_w2'
	option last_resort 'default'

config policy 'w1_ww2_lte3'
	list use_member 'wan_m1_w3'
	list use_member 'wwan_m2_w2'
	list use_member 'lte_m3_w1'
	option last_resort 'default'

config policy 'balanced'
	list use_member 'wan_m1_w3'
	list use_member 'wwan_m1_w2'
	list use_member 'lte_m1_w1'
	option last_resort 'default'

config policy 'wan_only'
	list use_member 'wan_m1_w3'
	option last_resort 'default'

config policy 'wwan_only'
	list use_member 'wwan_m1_w2'
	option last_resort 'default'

config policy 'lte_only'
	list use_member 'lte_m1_w1'
	option last_resort 'default'

config rule 'all'
	option proto 'all'
	option sticky '0'
	option src_ip '0.0.0.0/0'
	option dest_ip '0.0.0.0/0'
	option use_policy 'w1_ww2_lte3'

